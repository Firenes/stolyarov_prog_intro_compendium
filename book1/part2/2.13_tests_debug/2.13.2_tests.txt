2.13.2 Тесты

Тестирование программы начинается с момента запуска программы и ввода
параметров.

Для правильной проверки работоспособности программы необходимо писать тесты.
Тесты – вся информация, которая нужна, чтобы запустить программу или её
часть, подать на вход данные, которые повлияют на конкретную
функциональность, проверить результат и выдать вердикт о том, правильно
ли всё отработало или нет.

Тест может состоять из:
- данных – файл, с данными на вход, файл с данными на выход;
- специального программного кода для отдельных подпрограмм;
- целая программа, которая запускает тестируемую программу и подаёт ей
  на вход данные и проверяет результаты.


К примеру, есть программа по сокращению дробей. На вход принимает 2 числа:
числитель и знаменатель. На выходе печатается 2 числа: числитель и
знаминатель, приведённые к простейшему возможному виду.

Обычное тестирование через запуск выглядит так:
```
my@host:^/dev$ ./frcancel
25 15
5 3
```

Для упрощения тестирования можно использовать перенаправление ввода без
ввода входящих значений:
```
my@host:^/dev$ echo 25 15 | ./frcancel
5 3
```

Имеет смысл писать тесты, как пример через bash скрипт, который запускает
программу с входными данными и ожидаемыми выходными:
```
#!/bin/sh
#         francel_test.sh

while read a b c d ; do
    # Значение в кавычках для вызова команды и сохранение результата в res
    res='echo $a $b | ./francel'
    # Сравнивание ожидаемого и полученных результата программы.
    # Если результаты не совпали, печатается, что тест провален.
    if [x"$c $d" != x"$res" ]; then
        echo TEST $a $b FAILED: expected "$c $d", got "$res"
    fi
# Перенаправление данных для теста. Ключевое слово END для обозначения
# начала и конца данных
done <<END
    25 15 5 3
    7 12 7 12
    100 2000 1 20
END
```

Тест может быть трудно насписать, но должно быть легко прогнать.
